<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>습관 기록 앱</title>
    <link rel="stylesheet" href="habit-tracker.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🎯 습관 기록 앱</h1>
            <p>매일의 습관을 기록하고 달력에 스티커를 붙여보세요!</p>
        </header>

        <!-- 인생의 모토 섹션 -->
        <div class="motto-section">
            <p id="lifeMotto" contenteditable="true" spellcheck="false" data-placeholder="클릭하여 인생의 모토를 입력하세요..."></p>
        </div>

        <div class="main-content">
            <!-- 일일 상세 섹션 (위치 변경) -->
            <div class="daily-details-section" id="dailyDetailsSection">
                <h2 id="dailyDetailsTitle">달력에서 날짜를 선택하세요.</h2>
                <div id="dailyDetailsContent" class="hidden">
                                        <div class="daily-details-header">
                        <h3 id="selectedDateStr"></h3>
                        <h3 class="memo-header">습관 체크</h3>
                    </div>
                    <div id="dailyHabitsList"></div>
                    <h3 class="memo-header">일일 메모</h3>
                    <div id="memoList"></div>
                    <div class="add-memo">
                        <input type="text" id="memoInput" placeholder="새 메모 추가...">
                        <button id="addMemoBtn">메모 추가</button>
                    </div>
                </div>
            </div>

            <!-- 달력 섹션 -->
            <div class="calendar-section">
                <h2>📅 습관 달력</h2>
                <div class="calendar-controls">
                    <button id="prevMonth">◀</button>
                    <h3 id="currentMonth"></h3>
                    <button id="nextMonth">▶</button>
                </div>
                <div class="calendar" id="calendar">
                    <!-- 달력이 여기에 동적으로 생성됩니다 -->
                </div>
            </div>
        </div>

        <!-- 습관 관리 및 범례 섹션 (위치 변경) -->
        <div class="habits-section">
            <h2>📝 습관 관리 및 범례</h2>
            <div class="add-habit">
                <input type="text" id="habitName" placeholder="새 습관 (예: 운동, 독서)">
                <select id="habitColor">
                    <option value="red">🔴 빨강</option><option value="coral">🔴 코랄</option><option value="rose">🔴 로즈</option>
                    <option value="orange">🟠 주황</option><option value="amber">🟠 앰버</option>
                    <option value="yellow">🟡 노랑</option><option value="lime">🟡 라임</option>
                    <option value="green">🟢 초록</option><option value="emerald">🟢 에메랄드</option><option value="mint">🟢 민트</option><option value="teal">🟢 청록</option>
                    <option value="sky">🔵 스카이</option><option value="blue" selected>🔵 파랑</option><option value="cyan">🔵 시안</option><option value="indigo">🔵 남색</option>
                    <option value="purple">🟣 보라</option><option value="violet">🟣 바이올렛</option>
                    <option value="pink">🟣 핑크</option>
                    <option value="slate">⚫ 슬레이트</option>
                </select>
                <button id="addHabitBtn">추가</button>
            </div>
            <div class="legend-items" id="legendItems">
                <!-- 범례가 여기에 동적으로 추가됩니다 -->
            </div>
        </div>

        <!-- 트렌드 차트 -->
        <div class="trend-chart">
            <h3>📈 습관 트렌드 (최근 30일)</h3>
            <div class="chart-container" id="chartContainer"></div>
        </div>

        <!-- 데이터 관리 -->
        <div class="data-management">
            <h3>💾 데이터 관리</h3>
            <div class="data-actions">
                <button id="exportJsonBtn">데이터 내보내기 (JSON)</button>
                <label for="importJsonFile" class="file-label">JSON 파일 가져오기</label>
                <input type="file" id="importJsonFile" accept="application/json" style="display:none;" />
            </div>
            <div class="data-import-text">
                <textarea id="importJsonText" placeholder="여기에 JSON 데이터를 붙여넣고 가져오기 버튼을 누르세요"></textarea>
                <div class="import-text-actions">
                    <button id="importJsonTextBtn">텍스트에서 가져오기</button>
                </div>
            </div>
            <p class="data-hint">내보내기에는 습관 목록과 기록(달력 스티커)이 모두 포함됩니다. 가져오면 기존 데이터는 백업된 후 덮어씌워집니다.</p>
        </div>
    </div>

    <script src="habit-tracker.js"></script>
</body>
</html>
